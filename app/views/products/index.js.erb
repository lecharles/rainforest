<% if params[:search] && params[:page].nil? %>
  $('#products').html("<%= j(render @products) %>");
<% else %>
  $('#products').append('<%= j render(@products) %>');
<% end %>

$('.pagination').replaceWith('<%= j paginate(@products) %>');


// FYI:
// escape_javascript <=> j
//
// THIS VIEW DOES THE SAME AS:
// .done(function(data){
//    console.log(data);
//    $('#products').html(data);
//  });
